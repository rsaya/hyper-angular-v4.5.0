<!-- Topbar Start -->
<div class="navbar-custom" [class]="cssClasses">
    <div [class]="hideLogo ? '' : 'container-fluid'">
        <!-- LOGO -->
        <a routerLink="/" class="topnav-logo" *ngIf="!hideLogo && topbarDark">
            <span class="topnav-logo-lg">
                <img src="assets/images/logo-light.png" alt="" height="16">
            </span>
            <span class="topnav-logo-sm">
                <img src="assets/images/logo_sm.png" alt="" height="16">
            </span>
        </a>

        <!-- LOGO -->
        <a routerLink="/" class="topnav-logo" *ngIf="!hideLogo && !topbarDark">
            <span class="topnav-logo-lg">
                <img src="assets/images/logo-dark.png" alt="" height="16">
            </span>
            <span class="topnav-logo-sm">
                <img src="assets/images/logo_sm_dark.png" alt="" height="16">
            </span>
        </a>

        <ul class="list-unstyled topbar-menu float-end mb-0">
            <li class="dropdown notification-list d-xl-none" ngbDropdown autoClose="outside">
                <a ngbDropdownToggle class="nav-link dropdown-toggle arrow-none" id="mobileDropdown"
                    href="javascript: void(0);" aria-expanded="false">
                    <i class="dripicons-search noti-icon"></i>
                </a>
                <div ngbDropdownMenu aria-labelledby="mobileDropdown" class="dropdown-menu-animated dropdown-lg p-0">
                    <form ngbDropdownItem class="p-3">
                        <input type="text" class="form-control" placeholder="Search ..."
                            aria-label="Recipient's username">
                    </form>
                </div>
            </li>

            <li class="dropdown notification-list topbar-dropdown"
                [class]="layoutType!=='vertical' ? 'd-none d-lg-block' : ''" ngbDropdown>
                <a ngbDropdownToggle class="nav-link arrow-none" id="languageDropdown" href="javascript: void(0);"
                    aria-expanded="false">
                    <img [src]="selectedLanguage?.flag" [alt]="selectedLanguage?.name" class="me-0 me-sm-1" height="12">
                    <span class="align-middle d-none d-sm-inline-block">{{ selectedLanguage?.name }}</span>
                    <i class="mdi mdi-chevron-down d-none d-sm-inline-block align-middle"></i>
                </a>
                <div ngbDropdownMenu aria-labelledby="languageDropdown"
                    class="dropdown-menu-animated topbar-dropdown-menu dropdown-menu-end">
                    <!-- item -->
                    <a ngbDropdownItem *ngFor="let language of languages;" href="javascript:void(0);"
                        class="notify-item" (click)="changeLanguage(language)">
                        <img [src]="language.flag" [alt]="language.name" class="me-1" height="12">
                        <span class="align-middle">{{language.name }}</span>
                    </a>
                </div>
            </li>

            <li class="dropdown notification-list" ngbDropdown>
                <a ngbDropdownToggle class="nav-link arrow-none" id="notificationDropdown" href="javascript: void(0);"
                    aria-expanded="false">
                    <i class="dripicons-bell noti-icon"></i>
                    <span class="noti-icon-badge"></span>
                </a>
                <div ngbDropdownMenu aria-labelledby="notificationDropdown"
                    class="dropdown-menu-end dropdown-menu-animated dropdown-lg">
                    <!-- item -->
                    <div ngbDropdownItem class="noti-title">
                        <h5 class="m-0">
                            <span class="float-end">
                                <a href="javascript: void(0);" class="text-dark">
                                    <small>Clear All</small>
                                </a>
                            </span>Notification
                        </h5>
                    </div>

                    <ngx-simplebar style="max-height: 230px;">
                        <div id="notification-items">
                            <!-- item -->
                            <a href="javascript:void(0)" class="notify-item" *ngFor="let item of notificationList"
                                ngbDropdownItem>
                                <div class="notify-icon" *ngIf="item.avatar">
                                    <img [src]="item.avatar" class="img-fluid rounded-circle" alt="">
                                </div>
                                <div class="notify-icon bg-{{item.bgColor}}" *ngIf="item.icon">
                                    <i [class]="item.icon"></i>
                                </div>
                                <p class="notify-details">{{item.text}}</p>
                                <p class="text-muted mb-0 user-msg">
                                    <small>{{item.subText}}</small>
                                </p>
                            </a>
                        </div>
                    </ngx-simplebar>
                    <!-- item -->
                    <a ngbDropdownItem href="javascript:void(0);"
                        class="text-center text-primary notify-item notify-all">
                        View All
                    </a>
                </div>
            </li>
            <li class="dropdown notification-list d-none d-sm-inline-block" ngbDropdown>
                <a ngbDropdownToggle class="nav-link arrow-none" id="brandDropdown" href="javascript:void(0)"
                    aria-expanded="false">
                    <i class="dripicons-view-apps noti-icon"></i>
                </a>
                <div ngbDropdownMenu aria-labelledby="brandDropdown"
                    class="dropdown-menu-end dropdown-menu-animated dropdown-lg p-0">
                    <div class="p-2">
                        <div class="row g-0 row-cols-3">
                            <!-- item -->
                            <div *ngFor="let app of apps" class="col">
                                <a ngbDropdownItem class="dropdown-icon-item" href="javascript:void(0);">
                                    <img [src]="app.logo" alt="app">
                                    <span>{{app.name}}</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
            <li class="notification-list">
                <a class="nav-link end-bar-toggle" href="javascript:void(0);" (click)="toggleRightSidebar()">
                    <i class="dripicons-gear noti-icon"></i>
                </a>
            </li>
            <li class="dropdown notification-list" ngbDropdown>
                <a ngbDropdownToggle class="nav-link nav-user arrow-none me-0" id="profileMenuDropdown"
                    href="javascript:void(0)" aria-expanded="false">
                    <span class="account-user-avatar">
                        <img [src]="loggedInUser.avatar" alt="user-image" class="rounded-circle">
                    </span>
                    <span>
                        <span class="account-user-name">{{loggedInUser.name}}</span>
                        <span class="account-position">{{loggedInUser.title}}</span>
                    </span>
                </a>
                <div ngbDropdownMenu aria-labelledby="profileMenuDropdown"
                    class="dropdown-menu-end dropdown-menu-animated topbar-dropdown-menu profile-dropdown">
                    <!-- item -->
                    <div ngbDropdownItem class="dropdown-header noti-title">
                        <h6 class="text-overflow m-0">Welcome !</h6>
                    </div>
                    <!-- item -->
                    <a *ngFor="let option of profileOptions;" class="notify-item" ngbDropdownItem
                        href="javascript:void(0)" (click)="onOptionClick($event,option.redirectTo)">
                        <i class="{{option.icon}} me-1"></i>
                        <span style="cursor: pointer;">{{option.label}}</span>
                    </a>
                </div>
            </li>
        </ul>


        <button class="button-menu-mobile open-left d-none d-md-block" (click)="toggleSidebarWidth()"
            *ngIf="layoutType==='vertical' || layoutType==='full'">
            <i class="mdi mdi-menu open-left-icon"></i>
        </button>

        <!-- mobile menu toggle -->
        <button class="button-menu-mobile open-left disable-btn d-md-none" (click)="toggleMobileMenu($event)"
            *ngIf="layoutType==='vertical' || layoutType==='full'">
            <i class="mdi mdi-menu open-left-icon"></i>
        </button>


        <a class="navbar-toggle open-left" [ngClass]="{'open': topnavCollapsed}" (click)="toggleMobileMenu($event)"
            *ngIf="layoutType==='horizontal'">
            <div class="lines">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </a>

        <a class="button-menu-mobile open-left disable-btn" (click)="toggleMobileMenu($event)"
            *ngIf="layoutType==='detached'">
            <div class="lines">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </a>

        <div class="app-search dropdown d-none d-xl-block" ngbDropdown container="body" placement="bottom-start">
            <form>
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search..." id="topSearch" ngbDropdownToggle>
                    <span class="mdi mdi-magnify search-icon"></span>
                    <div class="input-group-append">
                        <button class="btn btn-primary" type="submit">Search</button>
                    </div>
                </div>
                <div ngbDropdownMenu aria-labelledby="topSearch" class="dropdown-menu-animated dropdown-lg mt-2"
                    id="search-dropdown">
                    <!-- item -->
                    <div ngbDropdownItem class="dropdown-header noti-title">
                        <h5 class="text-overflow mb-2">Found <span class="text-danger">17</span> results</h5>
                    </div>
                    <!-- item -->
                    <a ngbDropdownItem href="javascript:void(0);" class="notify-item"
                        *ngFor="let result of searchResults">
                        <i class="{{result.icon}} font-16 me-1"></i>
                        <span>{{result.text}}</span>
                    </a>
                    <!-- item -->
                    <div ngbDropdownItem class="dropdown-header noti-title">
                        <h6 class="text-overflow mb-2 text-uppercase">Users</h6>
                    </div>
                    <div class="notification-list">
                        <!-- item -->
                        <a ngbDropdownItem href="javascript:void(0);" class="notify-item"
                            *ngFor="let user of searchUsers">
                            <div class="d-flex">
                                <img class="d-flex me-2 rounded-circle" [src]="user.profile" [alt]="user.name"
                                    height="32">
                                <div class="w-100">
                                    <h5 class="m-0 font-14">{{user.name}}</h5>
                                    <span class="font-12 mb-0">{{user.position}}</span>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
            </form>
        </div>

    </div>

</div>
<!-- Topbar End -->